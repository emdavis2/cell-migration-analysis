Cell Migration Analysis
================
## Quick Summary:
The goal of this project is to analyze shape and motion data from movies of cells migrating and find correlations that can explain how the two are related and what unique behaviors are exhibited on different substrates in terms of material and stiffness that the cells are moving on. 

This repository contains the source data and code for analysis. Code for generating the mathematical models and fitting them is vestigial at this moment.

## Project Description:
Cell migration is characterized by an elongation with a leading edge of the cell membrane that contains protrusions. These protrusions adhere to the substrate the cell is situated on, probe the physical properties of the substrate, and generate forces that ultimately cause the rear of the cell to retract, thus leading to overall cell motion. The lifetime and relative positioning of these focal adhesions affects the persistence of the cellular motion. Cell migration has typically been modeled as a persistent random walk, but this assumption fails to explain many aspects of the data, such as the non-Gaussian distribution of velocities and the non-singular exponential decay of the velocity autocorrelation function. Incorporating cell shape into motion behavior has yet to be done and may explain the deviations from a persistent random walk that we observe.  Looking at this data set, I hope to learn how whole cell cytoskeleton dynamics play a role in the persistence and other observable migration behaviors of cells through the correlation of cell shape and motion. Additionally, I hope to characterize the differences cells display while migrating on gel, a more physiologically relevant substrate, and glass. Gaining insights from the analysis of this data, I aim to eventually make a mathematical model that incorporates shape and motion and can describe the observed differences on gel and glass. 

## How to Run:
Clone this repository and navigate to the folder of this repository on your computer (where the Docker file is located) and build the docker container by running:

```
docker build -t python_docker .
```

Now, run this container with the following: 

```
docker run -v $(pwd):/home/ -it python_docker bash
```

Now your terminal should be interactive with the docker container we have just built. We can use the Makefile to make the figures (and fit the model to our data).

The Makefile contains many targets that create different kinds of figures with different filtering specifications as commented above the targets in the file. To understand what is being run for each target in the Makefile, we must break apart the last line of the target. The first argument after `python3 *filename*.py` is the list that contains the paths to the data to be analyzed (make sure no spaces are present between commas). The second argument is the minimum track length to filter out for the analysis. The third argument is a list of descriptors for each path in argument 1 that must be present in the `region` column of the dataframe for each track (specified in the tracking step here: https://github.com/emdavis2/longleaf-cell-tracking/blob/main/Unified_Tracking_and_Shape_Notebook.ipynb) - once again, ensure there are no spaces between the commas. The fourth and final argument is the name of the folder where the figures will be saved to. If no path is specified to this folder, it will be created in the location of this repo on your computer.

 Now, let's go through how to run the code. Each target needs to be run in the interactive terminal running through docker. As an example, to generate the autocorrelation figures, copy and paste the following into the terminal:
```
sentinels/ACF_figures.txt
```

To do the same for histograms and box plots of motion and shape features as well as histograms of track lengths and track trajectories, use:
```
sentinels/histogram_boxplot.txt
```

These targets are sentinels since many plots are actually produced, however the text files do list the names of all the figures generated by these targets. Many more targets are available in the Makefile. To understand what each one does, look at the commented line above each target.